{"totalbranchlevel":2,"branchnum":4,"term_id":66,"name":"线段树","children":[{"totalbranchlevel":0,"facet_name":"摘要","totalbranchnum":0,"type":"branch","totalleafnum":4,"children":[{"url":"","content":"<div> \n <div class=\"hatnote\" role=\"note\">\n  本文介绍的是一种储存区间的数据结构。关于一种提供区间查询的数据结构，请见“\n  <b><a title=\"线段树 (区间查询)\" href=\"/wiki/%E7%BA%BF%E6%AE%B5%E6%A0%91_(%E5%8C%BA%E9%97%B4%E6%9F%A5%E8%AF%A2)\">线段树 (区间查询)</a></b>”。\n </div> \n</div>","fragment_id":"摘要_1","scratchTime":"2017-10-28 15:38:10.0","type":"leaf","flag":"fragment"},{"url":"","content":"<tbody>\n <tr> \n  <td class=\"mbox-image\"> \n   <div style=\"width: 52px;\">\n    <a class=\"image\" href=\"/wiki/File:Tango-nosources.svg\"><img width=\"45\" height=\"45\" alt=\"Tango-nosources.svg\" src=\"//upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Tango-nosources.svg/45px-Tango-nosources.svg.png\" data-file-height=\"48\" data-file-width=\"48\" srcset=\"//upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Tango-nosources.svg/68px-Tango-nosources.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Tango-nosources.svg/90px-Tango-nosources.svg.png 2x\" /></a>\n   </div> </td> \n  <td class=\"mbox-text\"><span class=\"mbox-text-span\">本条目<b>没有列出任何<a title=\"Wikipedia:列明来源\" href=\"/wiki/Wikipedia:%E5%88%97%E6%98%8E%E6%9D%A5%E6%BA%90\">参考或来源</a></b>。<small><i>（2016年9月19日）</i></small> <span class=\"hide-when-compact\"><br /> <small>维基百科所有的内容都应该<a title=\"Wikipedia:可供查证\" href=\"/wiki/Wikipedia:%E5%8F%AF%E4%BE%9B%E6%9F%A5%E8%AD%89\">可供查证</a>。请协助添加来自<a title=\"Wikipedia:可靠来源\" href=\"/wiki/Wikipedia:%E5%8F%AF%E9%9D%A0%E6%9D%A5%E6%BA%90\">可靠来源</a>的引用以<a class=\"external text\" href=\"//zh.wikipedia.org/w/index.php?title=%E7%B7%9A%E6%AE%B5%E6%A8%B9_(%E5%84%B2%E5%AD%98%E5%8D%80%E9%96%93)&amp;action=edit\">改善这篇条目</a>。<a title=\"Wikipedia:可供查证\" class=\"mw-redirect\" href=\"/wiki/Wikipedia:%E5%8F%AF%E4%BE%9B%E6%9F%A5%E8%AF%81\">无法查证</a>的内容可能被提出异议而移除。</small></span> </span></td> \n </tr> \n</tbody>","fragment_id":"摘要_2","scratchTime":"2017-10-28 15:38:10.0","type":"leaf","flag":"fragment"},{"url":"","content":"<b>线段树</b>（<span class=\"LangWithName\">英语：<span lang=\"en\" xml:lang=\"en\">Segment tree</span></span>）是一种<a title=\"二叉树\" class=\"mw-redirect\" href=\"/wiki/%E4%BA%8C%E5%85%83%E6%A8%B9\">二叉树</a>形数据结构，1977年由Jon Louis Bentley发明<sup class=\"reference\" id=\"cite_ref-Schwarzkopf4_1-0\"><a href=\"#cite_note-Schwarzkopf4-1\">[1]</a></sup>，用以储存<a title=\"区间\" href=\"/wiki/%E5%8D%80%E9%96%93\">区间</a>或<a title=\"线段\" class=\"mw-redirect\" href=\"/wiki/%E7%B7%9A%E6%AE%B5\">线段</a>，并且允许快速查询结构内包含某一点的所有区间。","fragment_id":"摘要_3","scratchTime":"2017-10-28 15:38:10.0","type":"leaf","flag":"fragment"},{"url":"","content":"一个包含<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\">\n  <math xmlns=\"http://www.w3.org/1998/Math/MathML\"> \n   <semantics> \n    <mrow class=\"MJX-TeXAtom-ORD\"> \n     <mstyle scriptlevel=\"0\" displaystyle=\"true\"> \n      <mi>\n       n\n      </mi> \n     </mstyle> \n    </mrow> \n    <annotation encoding=\"application/x-tex\">\n     {\\displaystyle n}\n    </annotation> \n   </semantics> \n  </math></span><img class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"width: 1.4ex; height: 1.67ex; vertical-align: -0.33ex;\" alt=\"n\" src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b\" /></span>个区间的线段树，空间复杂度为<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\">\n  <math xmlns=\"http://www.w3.org/1998/Math/MathML\"> \n   <semantics> \n    <mrow class=\"MJX-TeXAtom-ORD\"> \n     <mstyle scriptlevel=\"0\" displaystyle=\"true\"> \n      <mi>\n       O\n      </mi> \n      <mo stretchy=\"false\">\n       (\n      </mo> \n      <mi>\n       n\n      </mi> \n      <mi>\n       log\n      </mi> \n      <mo>\n       ⁡\n       <!-- ⁡ -->\n      </mo> \n      <mi>\n       n\n      </mi> \n      <mo stretchy=\"false\">\n       )\n      </mo> \n     </mstyle> \n    </mrow> \n    <annotation encoding=\"application/x-tex\">\n     {\\displaystyle O(n\\log n)}\n    </annotation> \n   </semantics> \n  </math></span><img class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"width: 10.2ex; height: 2.84ex; vertical-align: -0.83ex;\" alt=\"O(n\\log n)\" src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9d2320768fb54880ca4356e61f60eb02a3f9d9f1\" /></span>，查询的时间复杂度则为<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\">\n  <math xmlns=\"http://www.w3.org/1998/Math/MathML\"> \n   <semantics> \n    <mrow class=\"MJX-TeXAtom-ORD\"> \n     <mstyle scriptlevel=\"0\" displaystyle=\"true\"> \n      <mi>\n       O\n      </mi> \n      <mo stretchy=\"false\">\n       (\n      </mo> \n      <mi>\n       log\n      </mi> \n      <mo>\n       ⁡\n       <!-- ⁡ -->\n      </mo> \n      <mi>\n       n\n      </mi> \n      <mo>\n       +\n      </mo> \n      <mi>\n       k\n      </mi> \n      <mo stretchy=\"false\">\n       )\n      </mo> \n     </mstyle> \n    </mrow> \n    <annotation encoding=\"application/x-tex\">\n     {\\displaystyle O(\\log n+k)}\n    </annotation> \n   </semantics> \n  </math></span><img class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"width: 12.48ex; height: 2.84ex; vertical-align: -0.83ex;\" alt=\"{\\displaystyle O(\\log n+k)}\" src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1a7c999f07c8c2b6ba6e06e8532628f7e1c097b6\" /></span>，其中<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\">\n  <math xmlns=\"http://www.w3.org/1998/Math/MathML\"> \n   <semantics> \n    <mrow class=\"MJX-TeXAtom-ORD\"> \n     <mstyle scriptlevel=\"0\" displaystyle=\"true\"> \n      <mi>\n       k\n      </mi> \n     </mstyle> \n    </mrow> \n    <annotation encoding=\"application/x-tex\">\n     {\\displaystyle k}\n    </annotation> \n   </semantics> \n  </math></span><img class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"width: 1.22ex; height: 2.17ex; vertical-align: -0.33ex;\" alt=\"k\" src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c3c9a2c7b599b37105512c5d570edc034056dd40\" /></span>是符合条件的区间数量。","fragment_id":"摘要_4","scratchTime":"2017-10-28 15:38:10.0","type":"leaf","flag":"fragment"}]},{"totalbranchlevel":1,"facet_name":"基本操作","totalbranchnum":5,"type":"branch","totalleafnum":5,"children":[{"totalbranchlevel":0,"facet_name":"节点数据向上更新","totalbranchnum":0,"type":"branch","totalleafnum":0,"children":[]},{"totalbranchlevel":0,"facet_name":"节点懒惰标记下推","totalbranchnum":0,"type":"branch","totalleafnum":0,"children":[]},{"totalbranchlevel":0,"facet_name":"建树","totalbranchnum":0,"type":"branch","totalleafnum":0,"children":[]},{"totalbranchlevel":0,"facet_name":"更新","totalbranchnum":0,"type":"branch","totalleafnum":0,"children":[]},{"totalbranchlevel":0,"facet_name":"区间查询","totalbranchnum":0,"type":"branch","totalleafnum":0,"children":[]}]},{"totalbranchlevel":0,"facet_name":"变种","totalbranchnum":0,"type":"branch","totalleafnum":0,"children":[]},{"totalbranchlevel":0,"facet_name":"相关链接","totalbranchnum":0,"type":"branch","totalleafnum":0,"children":[]}]}