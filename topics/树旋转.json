{"totalbranchlevel":2,"branchnum":4,"term_id":69,"name":"树旋转","children":[{"totalbranchlevel":0,"facet_name":"摘要","totalbranchnum":0,"type":"branch","totalleafnum":3,"children":[{"url":"","content":"<tbody>\n <tr> \n  <td class=\"mbox-image\"> \n   <div style=\"width: 52px;\">\n    <a class=\"image\" href=\"/wiki/File:Tango-nosources.svg\"><img width=\"45\" height=\"45\" alt=\"Tango-nosources.svg\" src=\"//upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Tango-nosources.svg/45px-Tango-nosources.svg.png\" data-file-height=\"48\" data-file-width=\"48\" srcset=\"//upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Tango-nosources.svg/68px-Tango-nosources.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Tango-nosources.svg/90px-Tango-nosources.svg.png 2x\" /></a>\n   </div> </td> \n  <td class=\"mbox-text\"><span class=\"mbox-text-span\">本条目<b>没有列出任何<a title=\"Wikipedia:列明来源\" href=\"/wiki/Wikipedia:%E5%88%97%E6%98%8E%E6%9D%A5%E6%BA%90\">参考或来源</a></b>。<small><i>（2015年3月5日）</i></small> <span class=\"hide-when-compact\"><br /> <small>维基百科所有的内容都应该<a title=\"Wikipedia:可供查证\" href=\"/wiki/Wikipedia:%E5%8F%AF%E4%BE%9B%E6%9F%A5%E8%AD%89\">可供查证</a>。请协助添加来自<a title=\"Wikipedia:可靠来源\" href=\"/wiki/Wikipedia:%E5%8F%AF%E9%9D%A0%E6%9D%A5%E6%BA%90\">可靠来源</a>的引用以<a class=\"external text\" href=\"//zh.wikipedia.org/w/index.php?title=%E6%A0%91%E6%97%8B%E8%BD%AC&amp;action=edit\">改善这篇条目</a>。<a title=\"Wikipedia:可供查证\" class=\"mw-redirect\" href=\"/wiki/Wikipedia:%E5%8F%AF%E4%BE%9B%E6%9F%A5%E8%AF%81\">无法查证</a>的内容可能被提出异议而移除。</small></span> </span></td> \n </tr> \n</tbody>","fragment_id":"摘要_1","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"<tbody>\n <tr> \n  <td class=\"mbox-image\"> \n   <div style=\"width: 52px;\">\n    <a class=\"image\" href=\"/wiki/File:Ambox_spelling.svg\"><img width=\"48\" height=\"48\" alt=\"Ambox spelling.svg\" src=\"//upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Ambox_spelling.svg/48px-Ambox_spelling.svg.png\" data-file-height=\"620\" data-file-width=\"620\" srcset=\"//upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Ambox_spelling.svg/72px-Ambox_spelling.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Ambox_spelling.svg/96px-Ambox_spelling.svg.png 2x\" /></a>\n   </div> </td> \n  <td class=\"mbox-text\"><span class=\"mbox-text-span\">本条目<b>需要<a title=\"Wikipedia:如何审核校对\" class=\"mw-redirect\" href=\"/wiki/Wikipedia:%E5%A6%82%E4%BD%95%E5%AF%A9%E6%A0%B8%E6%A0%A1%E5%B0%8D\">编修</a>，以确保文法、<a title=\"Wikipedia:避免使用的字词\" class=\"mw-redirect\" href=\"/wiki/Wikipedia:%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8%E7%9A%84%E5%AD%97%E8%A9%9E\">用词、语气</a>、<a title=\"Wikipedia:格式手册\" href=\"/wiki/Wikipedia:%E6%A0%BC%E5%BC%8F%E6%89%8B%E5%86%8C\">格式</a>、<a title=\"Wikipedia:格式手册/标点符号\" href=\"/wiki/Wikipedia:%E6%A0%BC%E5%BC%8F%E6%89%8B%E5%86%8C/%E6%A0%87%E7%82%B9%E7%AC%A6%E5%8F%B7\">标点</a>等使用恰当。</b><small><i>（2011年10月13日）</i></small> <span class=\"hide-when-compact\"><br /> <small>请按照<a title=\"Wikipedia:如何审核校对\" class=\"mw-redirect\" href=\"/wiki/Wikipedia:%E5%A6%82%E4%BD%95%E5%AF%A9%E6%A0%B8%E6%A0%A1%E5%B0%8D\">校对指引</a>，帮助<a class=\"external text\" href=\"//zh.wikipedia.org/w/index.php?title=%E6%A0%91%E6%97%8B%E8%BD%AC&amp;action=edit\">编辑</a>这个条目。（<a title=\"Help:编辑\" class=\"mw-redirect\" href=\"/wiki/Help:%E7%BC%96%E8%BE%91\">帮助</a>、<a title=\"Talk:树旋转\" href=\"/wiki/Talk:%E6%A0%91%E6%97%8B%E8%BD%AC\">讨论</a>）</small></span> </span></td> \n </tr> \n</tbody>","fragment_id":"摘要_2","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"在<a title=\"离散数学\" class=\"mw-redirect\" href=\"/wiki/%E9%9B%A2%E6%95%A3%E6%95%B8%E5%AD%B8\">离散数学</a>中，<b>树旋转</b>（<span class=\"LangWithName\">英语：<span lang=\"en\" xml:lang=\"en\">Tree rotation</span></span>）是在<a title=\"二叉树\" href=\"/wiki/%E4%BA%8C%E5%8F%89%E6%A0%91\">二叉树</a>中的一种子树调整操作, 每一次旋转并不影响对该二叉树进行<a title=\"树的遍历\" href=\"/wiki/%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86\">中序遍历</a>的结果. 树旋转通常应用于需要调整树的局部平衡性的场合。","fragment_id":"摘要_3","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"}]},{"totalbranchlevel":0,"facet_name":"图示","totalbranchnum":0,"type":"branch","totalleafnum":3,"children":[{"url":"","content":"<a class=\"image\" href=\"/wiki/File:Tree_rotation.png\"><img width=\"612\" height=\"241\" alt=\"Tree rotation.png\" src=\"//upload.wikimedia.org/wikipedia/commons/2/23/Tree_rotation.png\" data-file-height=\"241\" data-file-width=\"612\" /></a>","fragment_id":"图示_1","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"+---+                          +---+\n        | Q |                          | P |\n        +---+                          +---+\n       /     \\     right rotation     /     \\\n    +---+   +---+  -------------&gt;  +---+   +---+\n    | P |   | Z |                  | X |   | Q |\n    +---+   +---+  &lt;-------------  +---+   +---+\n   /     \\          left rotation         /     \\\n+---+   +---+                          +---+   +---+\n| X |   | Y |                          | Y |   | Z |\n+---+   +---+                          +---+   +---+","fragment_id":"图示_2","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"__\n                                                                 /  \\\n                                     +---+                      /  +---+\n                                     | Q |                     /   | Q |\n                           +---+     +---+              +---+ /    +---+\n        +---+              | P |    /     \\      R1     | P |/    /     \\              +---+\n        | Q |     R0       +---+   /     +---+ -----&gt;   +---+    /     +---+   R2      | P |\n        +---+   -----&gt;    /     \\ /      | Z |         /        /      | Z | -----&gt;    +---+\n       /     \\         +---+   +---+     +---+      +---+    +---+     +---+          /     \\\n    +---+   +---+      | X |   | Y |                | X |    | Y |                 +---+   +---+\n    | P |   | Z |      +---+   +---+                +---+    +---+                 | X |   | Q |\n    +---+   +---+              __                                                  +---+   +---+\n   /     \\                    /  \\                                                        /     \\\n+---+   +---+     L2       +---+  \\                       +---+                L0      +---+   +---+\n| X |   | Y |   &lt;-----     | P |   \\                      | P |              &lt;-----    | Y |   | Z |\n+---+   +---+              +---+    \\ +---+      L1       +---+     +---+              +---+   +---+\n                          /     \\    \\| Q |    &lt;-----    /     \\    | Q |\n                       +---+     \\    +---+           +---+     \\   +---+\n                       | X |      \\        \\          | X |      \\ /     \\\n                       +---+     +---+    +---+       +---+     +---+   +---+\n                                 | Y |    | Z |                 | Y |   | Z |\n                                 +---+    +---+                 +---+   +---+","fragment_id":"图示_3","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"}]},{"totalbranchlevel":0,"facet_name":"实现","totalbranchnum":0,"type":"branch","totalleafnum":7,"children":[{"url":"","content":"上面的图示仅描述了如何进行局部变换, 在实际应用中, 还需要将原有父节点的父节点纳入考虑范围. 以上述右旋转为例, 如果 Q 是其父节点 root 的左子节点, 则在旋转完后 root 的左子节点需要修改指向节点 P. 但这一点并没有体现在上面的图示中.","fragment_id":"实现_1","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"在接下来的实现中, 假设从树中任一节点 N 能够借由 N.left 访问其左子节点, N.right 访问其右子节点, N.parent 访问其父节点. 此外, 称旋转后变为父亲的节点为<b>转轴</b> pivot, 称 pivot 在旋转前的父节点为 parent, 而 parent 在旋转前的父节点为 root. 则右旋转过程可用伪代码表示为","fragment_id":"实现_2","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"func rotate_right(pivot):\n  let parent = pivot.parent\n  let root = parent.parent\n  // R0\n  parent.left = pivot.right\n  if pivot.right != nil: pivot.right.parent = parent\n  // R1\n  pivot.parent = root\n  if parent == root.left:\n    root.left = pivot\n  else:\n    root.right = pivot\n  pivot.right = parent\n  parent.parent = pivot","fragment_id":"实现_3","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"func rotate_left(pivot):\n  let parent = pivot.parent\n  let root = parent.parent\n  // L0\n  parent.right = pivot.left\n  if pivot.left != nil: pivot.left.parent = parent\n  // L1\n  pivot.parent = root\n  if parent == root.left:\n    root.left = pivot\n  else:\n    root.right = pivot\n  pivot.left = parent\n  parent.parent = pivot","fragment_id":"实现_4","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"上述过程并<b>不</b>适用于当 parent 节点本身就是树的根节点的情况. 这种情况下, 需要以其它方式重设树的根节点为 pivot. 一种无需在根节点的某一子节点为转轴时进行特殊处理的替代方案是让树的实际的根节点是一个特殊入口节点, 而逻辑上的根节点作为该入口节点的某个子节点存在, 并避免任何以逻辑根节点为转轴的旋转.","fragment_id":"实现_5","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"func rotate_right(root, parent):\n  assert root.left == parent || root.right == parent\n  let pivot = parent.left\n  // R0\n  parent.left = pivot.right\n  // R1\n  if parent == root.left:\n    root.left = pivot\n  else:\n    root.right = pivot\n  pivot.right = parent","fragment_id":"实现_6","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"func rotate_left(root, parent):\n  assert root.left == parent || root.right == parent\n  let pivot = parent.right\n  // L0\n  parent.right = pivot.left\n  // L1\n  if parent == root.left:\n    root.left = pivot\n  else:\n    root.right = pivot\n  pivot.left = parent","fragment_id":"实现_7","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"}]},{"totalbranchlevel":0,"facet_name":"旋转距离","totalbranchnum":0,"type":"branch","totalleafnum":3,"children":[{"url":"","content":"两棵二叉树之间的旋转距离指的是, 其中一棵树通过尽可能少的树旋转变换到另一棵树, 此过程中所使用的旋转次数. 对于一个包含相同个数节点的二叉树集合, 它们两两之间的距离可以构成一个<a title=\"度量空间\" href=\"/wiki/%E5%BA%A6%E9%87%8F%E7%A9%BA%E9%97%B4\">度量空间</a>. 是否存在一个<a title=\"算法\" href=\"/wiki/%E7%AE%97%E6%B3%95\">算法</a>, 能在<a title=\"多项式时间\" href=\"/wiki/%E5%A4%9A%E9%A0%85%E5%BC%8F%E6%99%82%E9%96%93\">多项式时间</a>内计算两个二叉树之间的旋转距离, 目前还是一个<a title=\"未决问题（页面不存在）\" class=\"new\" href=\"/w/index.php?title=%E6%9C%AA%E5%86%B3%E9%97%AE%E9%A2%98&amp;action=edit&amp;redlink=1\">未决问题</a>.","fragment_id":"旋转距离_1","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"<span id=\"参考文献\"></span><span class=\"mw-headline\" id=\".E5.8F.82.E8.80.83.E6.96.87.E7.8C.AE\">参考文献</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a title=\"编辑小节：参考文献\" href=\"/w/index.php?title=%E6%A0%91%E6%97%8B%E8%BD%AC&amp;action=edit&amp;section=4\">编辑</a><span class=\"mw-editsection-bracket\">]</span></span>","fragment_id":"旋转距离_2","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"},{"url":"","content":"Cormen, Leiserson, Rivest, Stein. <i>Introduction to Algorithms.</i> Massachusetts: The MIT Press, 2002. pp273-77. <a class=\"internal mw-magiclink-isbn\" href=\"/wiki/Special:%E7%BD%91%E7%BB%9C%E4%B9%A6%E6%BA%90/0070131511\">ISBN 0-07-013151-1</a>","fragment_id":"旋转距离_3","scratchTime":"2017-10-28 15:38:35.0","type":"leaf","flag":"fragment"}]}]}